"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[3936],{55346:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(19860),i=t(1413),a=(0,t(17592).ZP)("span")((function(n){var e=n.theme,t=n.ownerState,r=t.status,a=t.size;return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({width:10,height:10,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center","&:before, &:after":{content:"''",borderRadius:1,backgroundColor:e.palette.common.white}},"small"===a&&{width:8,height:8}),"large"===a&&{width:12,height:12}),"offline"===r&&{backgroundColor:"transparent"}),"away"===r&&{backgroundColor:e.palette.warning.main,"&:before":{width:2,height:4,transform:"translateX(1px) translateY(-1px)"},"&:after":{width:2,height:4,transform:"translateY(1px) rotate(125deg)"}}),"busy"===r&&{backgroundColor:e.palette.error.main,"&:before":{width:6,height:2}}),"online"===r&&{backgroundColor:e.palette.success.main}),"invisible"===r&&{backgroundColor:e.palette.text.disabled,"&:before":{width:6,height:6,borderRadius:"50%"}}),"unread"===r&&{backgroundColor:e.palette.info.main})})),o=t(46417);function s(n){var e=n.size,t=void 0===e?"medium":e,i=n.status,s=void 0===i?"offline":i,l=n.sx,c=(0,r.Z)();return(0,o.jsx)(a,{ownerState:{status:s,size:t},sx:l,theme:c})}},37903:function(n,e,t){t.d(e,{Z:function(){return p}});var r=t(1413),i=t(45987),a=t(57829),o=t(35898),s=t(61113),l=t(3404),c=t(90891),d=t(2135),u=t(46417);function x(n){var e=n.link,t=n.activeLast,i=n.disabled,o=e.name,s=e.href,l=e.icon,x=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),h=(0,u.jsxs)(u.Fragment,{children:[l&&(0,u.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:l}),o]});return s?(0,u.jsx)(c.Z,{component:d.rU,to:s,sx:x,children:h}):(0,u.jsxs)(a.Z,{sx:x,children:[" ",h," "]})}var h=["links","action","heading","moreLink","activeLast","sx"];function p(n){var e=n.links,t=n.action,d=n.heading,p=n.moreLink,Z=n.activeLast,v=n.sx,m=(0,i.Z)(n,h),g=e[e.length-1].name;return(0,u.jsxs)(a.Z,{sx:(0,r.Z)({mb:5},v),children:[(0,u.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(a.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:d}),!!e.length&&(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(f,{})},m),{},{children:e.map((function(n){return(0,u.jsx)(x,{link:n,activeLast:Z,disabled:n.name===g},n.name||"")}))}))]}),t&&(0,u.jsxs)(a.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!p&&(0,u.jsx)(a.Z,{sx:{mt:2},children:p.map((function(n){return(0,u.jsx)(c.Z,{noWrap:!0,href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}function f(){return(0,u.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},2943:function(n,e,t){t.d(e,{fY:function(){return l},yM:function(){return d},hN:function(){return v}});var r=t(1413),i=t(17592),a=t(17551),o=t(24631),s=t(46417),l=(0,i.ZP)((function(n){return(0,s.jsx)(o.Z,(0,r.Z)({select:!0,SelectProps:{native:!0}},n))}))((function(n){var e=n.theme;return{"& fieldset":{display:"none"},"& select":(0,r.Z)((0,r.Z)({},e.typography.subtitle2),{},{padding:e.spacing(.5,0,.5,1),paddingRight:"28px !important"}),"& .MuiOutlinedInput-root":{borderRadius:.75*Number(e.shape.borderRadius),backgroundColor:(0,a.Fq)(e.palette.grey[500],.08)}}})),c=t(4942),d=(0,i.ZP)(o.Z,{shouldForwardProp:function(n){return"width"!==n}})((function(n){var e=n.width,t=n.theme;return{"& fieldset":{display:"none"},"& .MuiOutlinedInput-root":{width:e,border:"solid 1px ".concat((0,a.Fq)(t.palette.grey[500],.32)),transition:t.transitions.create(["box-shadow","width"],{duration:t.transitions.duration.shorter}),"&.Mui-focused":(0,r.Z)({boxShadow:t.customShadows.z20},e&&(0,c.Z)({},t.breakpoints.up("sm"),{width:e+60}))}}})),u=t(45987),x=t(47313),h=t(35898),p=t(47131),f=t(16335),Z=["quantity","onIncrease","onDecrease","disabledIncrease","disabledDecrease","sx"],v=(0,x.forwardRef)((function(n,e){var t=n.quantity,i=n.onIncrease,o=n.onDecrease,l=n.disabledIncrease,c=n.disabledDecrease,d=n.sx,x=(0,u.Z)(n,Z);return(0,s.jsxs)(h.Z,(0,r.Z)((0,r.Z)({ref:e,flexShrink:0,direction:"row",alignItems:"center",justifyContent:"space-between",sx:(0,r.Z)({mb:.5,py:.5,px:.75,width:96,borderRadius:1,border:function(n){return"solid 1px ".concat((0,a.Fq)(n.palette.grey[500],.32))}},d)},x),{},{children:[(0,s.jsx)(p.Z,{size:"small",color:"inherit",onClick:o,disabled:c,sx:{color:"text.secondary"},children:(0,s.jsx)(f.Z,{icon:"eva:minus-fill",width:16})}),t,(0,s.jsx)(p.Z,{size:"small",color:"inherit",onClick:i,disabled:l,sx:{color:"text.secondary"},children:(0,s.jsx)(f.Z,{icon:"eva:plus-fill",width:16})})]}))}))},98260:function(n,e,t){t.d(e,{Z:function(){return y}});var r=t(1413),i=t(45987),a=t(72749),o=t(31745),s=t(80484),l=t(71595),c=t(7784),d=t(13083),u=t(48933),x=t(26160),h=t(61113),p=t(16335),f=t(19860),Z=t(17551),v=t(70499),m=t(46417);function g(){var n=(0,f.Z)();return(0,m.jsx)(v.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,Z.Fq)(n.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,Z.Fq)(n.palette.grey[900],.48)},".yarl__slide_title":{fontSize:n.typography.h5.fontSize,fontWeight:n.typography.h5.fontWeight,lineHeight:n.typography.h5.lineHeight},".yarl__slide_description":{fontSize:n.typography.body2.fontSize,fontWeight:n.typography.body2.fontWeight,lineHeight:n.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:n.palette.common.black}}})}var j=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],b=24;function y(n){var e=n.slides,t=n.disabledZoom,o=n.disabledVideo,s=n.disabledTotal,l=n.disabledCaptions,c=n.disabledSlideshow,d=n.disabledThumbnails,u=n.disabledFullscreen,x=n.onGetCurrentIndex,h=(0,i.Z)(n,j),f=e?e.length:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g,{}),(0,m.jsx)(a.Z,(0,r.Z)({slides:e,animation:{swipe:240},carousel:{finite:f<5},controller:{closeOnBackdropClick:!0},plugins:w({disabledZoom:t,disabledVideo:o,disabledCaptions:l,disabledSlideshow:c,disabledThumbnails:d,disabledFullscreen:u}),on:{view:function(n){x&&x(n)}},toolbar:{buttons:[(0,m.jsx)(C,{totalItems:f,disabledTotal:s,disabledCaptions:l},0),"close"]},render:{iconClose:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:close"})},iconZoomIn:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:pause"})},iconPrev:function(){return(0,m.jsx)(p.Z,{width:32,icon:"carbon:chevron-left"})},iconNext:function(){return(0,m.jsx)(p.Z,{width:32,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,m.jsx)(p.Z,{width:b,icon:"carbon:fit-to-screen"})}}},h))]})}function w(n){var e=n.disabledZoom,t=n.disabledVideo,r=n.disabledCaptions,i=n.disabledSlideshow,a=n.disabledThumbnails,x=n.disabledFullscreen,h=[l.Z,d.Z,c.Z,u.Z,s.Z,o.ZP];return a&&(h=h.filter((function(n){return n!==u.Z}))),r&&(h=h.filter((function(n){return n!==l.Z}))),x&&(h=h.filter((function(n){return n!==d.Z}))),i&&(h=h.filter((function(n){return n!==c.Z}))),e&&(h=h.filter((function(n){return n!==o.ZP}))),t&&(h=h.filter((function(n){return n!==s.Z}))),h}function C(n){var e=n.totalItems,t=n.disabledTotal,i=n.disabledCaptions,a=(0,x.o)().state.currentIndex;return t?null:(0,m.jsxs)(h.Z,{className:"yarl__button",sx:(0,r.Z)({pl:3,left:0,position:"fixed",typography:"body2"},!i&&{px:"unset",minWidth:64,position:"unset",textAlign:"center"}),children:[(0,m.jsxs)("strong",{children:[" ",a+1," "]})," / ",e]})}},75944:function(n,e,t){t.d(e,{i4:function(){return y},Ml:function(){return g},n6:function(){return Z},ZE:function(){return d},M2:function(){return c},Py:function(){return j},JJ:function(){return h}});var r=t(46417);var i=t(1413),a=t(36459),o=t(9019),s=t(84488),l=t(57829);function c(n){var e=Object.assign({},((0,a.Z)(n),n));return(0,r.jsxs)(o.ZP,(0,i.Z)((0,i.Z)({item:!0,xs:12,sm:6,md:3},e),{},{children:[(0,r.jsx)(s.Z,{variant:"rectangular",width:"100%",sx:{height:200,borderRadius:2}}),(0,r.jsxs)(l.Z,{sx:{display:"flex",mt:1.5},children:[(0,r.jsx)(s.Z,{variant:"circular",sx:{width:40,height:40}}),(0,r.jsx)(s.Z,{variant:"text",sx:{mx:1,flexGrow:1}})]})]}))}function d(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),(0,r.jsxs)(l.Z,{sx:{mt:3,display:"flex",alignItems:"center"},children:[(0,r.jsx)(s.Z,{variant:"circular",width:64,height:64}),(0,r.jsxs)(l.Z,{sx:{flexGrow:1,ml:2},children:[(0,r.jsx)(s.Z,{variant:"text",height:20}),(0,r.jsx)(s.Z,{variant:"text",height:20}),(0,r.jsx)(s.Z,{variant:"text",height:20})]})]})]})}var u=t(73428),x=t(35898);function h(n){var e=Object.assign({},((0,a.Z)(n),n));return(0,r.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},e),{},{children:[(0,r.jsx)(s.Z,{variant:"rectangular",sx:{paddingTop:"100%"}}),(0,r.jsxs)(x.Z,{spacing:2,sx:{p:3},children:[(0,r.jsx)(s.Z,{variant:"text",sx:{width:.5}}),(0,r.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(x.Z,{direction:"row",children:[(0,r.jsx)(s.Z,{variant:"circular",sx:{width:16,height:16}}),(0,r.jsx)(s.Z,{variant:"circular",sx:{width:16,height:16}}),(0,r.jsx)(s.Z,{variant:"circular",sx:{width:16,height:16}})]}),(0,r.jsx)(s.Z,{variant:"text",sx:{width:40}})]})]})]}))}var p=t(45987),f=["sx"];function Z(n){var e=n.sx,t=(0,p.Z)(n,f);return(0,r.jsxs)(x.Z,(0,i.Z)((0,i.Z)({spacing:1,direction:"row",alignItems:"center",sx:(0,i.Z)({px:3,py:1},e)},t),{},{children:[(0,r.jsx)(s.Z,{variant:"circular",width:32,height:32}),(0,r.jsx)(s.Z,{variant:"text",sx:{width:.5,height:16}})]}))}var v=t(93433),m=t(70501);function g(n){var e=Object.assign({},((0,a.Z)(n),n));return(0,r.jsx)(l.Z,(0,i.Z)((0,i.Z)({gap:3,display:"grid",gridTemplateColumns:"repeat(4, 1fr)"},e),{},{children:(0,v.Z)(Array(3)).map((function(n,e){return(0,r.jsx)(m.Z,{variant:"outlined",sx:{p:2.5,width:310},children:(0,r.jsxs)(x.Z,{spacing:2,children:[(0,r.jsx)(s.Z,{variant:"rectangular",sx:{paddingTop:"75%",borderRadius:1.5}}),0===e&&(0,r.jsx)(s.Z,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}}),2!==e&&(0,r.jsx)(s.Z,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}})]})},e)}))}))}function j(n){var e=Object.assign({},((0,a.Z)(n),n));return(0,r.jsxs)(o.ZP,(0,i.Z)((0,i.Z)({container:!0,spacing:3},e),{},{children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:7,children:(0,r.jsx)(s.Z,{variant:"rectangular",width:"100%",sx:{paddingTop:"100%",borderRadius:2}})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,md:6,lg:5,children:[(0,r.jsx)(s.Z,{variant:"circular",width:80,height:80}),(0,r.jsx)(s.Z,{variant:"text",height:240}),(0,r.jsx)(s.Z,{variant:"text",height:40}),(0,r.jsx)(s.Z,{variant:"text",height:40}),(0,r.jsx)(s.Z,{variant:"text",height:40})]})]}))}var b=["sx"];function y(n){var e=n.sx,t=(0,p.Z)(n,b);return(0,r.jsxs)(x.Z,(0,i.Z)((0,i.Z)({spacing:1,direction:"row",alignItems:"center",sx:(0,i.Z)({px:3,py:1.5},e)},t),{},{children:[(0,r.jsx)(s.Z,{variant:"circular",width:48,height:48}),(0,r.jsxs)(x.Z,{spacing:.5,sx:{flexGrow:1},children:[(0,r.jsx)(s.Z,{variant:"text",sx:{width:.5,height:16}}),(0,r.jsx)(s.Z,{variant:"text",sx:{width:.25,height:12}})]})]}))}},73936:function(n,e,t){t.r(e),t.d(e,{default:function(){return ce}});var r=t(65964),i=t(74165),a=t(15861),o=t(47313),s=t(58467),l=t(47825),c=t(73428),d=t(35898),u=t(1738),x=t(88816),h=t(76025),p=t(59519),f=t(37903),Z=t(29439),v=t(1413),m=t(2135),g=t(17592),j=t(19860),b=t(47131),y=t(57829),w=t(46923),C=t(22868),k=t(85817),S=t(16335),I=t(59743),P=t(93433),_=t(45987),T=t(48310),R=t(75944),z=t(73149),M=t(5025),D=t(7781),W=t(93601),F=t(51166),O=t(49294),N=t(48883),A=t(34800),B=6e4,E=1440,G=43200,q=525600;function L(n,e,t){var r,i,a;(0,A.Z)(2,arguments);var o=(0,z.j)(),s=null!==(r=null!==(i=null===t||void 0===t?void 0:t.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:N.Z;if(!s.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var l=(0,D.Z)(n,e);if(isNaN(l))throw new RangeError("Invalid time value");var c,d,u=(0,O.Z)((0,F.Z)(t),{addSuffix:Boolean(null===t||void 0===t?void 0:t.addSuffix),comparison:l});l>0?(c=(0,W.Z)(e),d=(0,W.Z)(n)):(c=(0,W.Z)(n),d=(0,W.Z)(e));var x,h=String(null!==(a=null===t||void 0===t?void 0:t.roundingMethod)&&void 0!==a?a:"round");if("floor"===h)x=Math.floor;else if("ceil"===h)x=Math.ceil;else{if("round"!==h)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");x=Math.round}var p,f=d.getTime()-c.getTime(),Z=f/B,v=(0,M.Z)(d)-(0,M.Z)(c),m=(f-v)/B,g=null===t||void 0===t?void 0:t.unit;if("second"===(p=g?String(g):Z<1?"second":Z<60?"minute":Z<E?"hour":m<G?"day":m<q?"month":"year")){var j=x(f/1e3);return s.formatDistance("xSeconds",j,u)}if("minute"===p){var b=x(Z);return s.formatDistance("xMinutes",b,u)}if("hour"===p){var y=x(Z/60);return s.formatDistance("xHours",y,u)}if("day"===p){var w=x(m/E);return s.formatDistance("xDays",w,u)}if("month"===p){var C=x(m/G);return 12===C&&"month"!==g?s.formatDistance("xYears",1,u):s.formatDistance("xMonths",C,u)}if("year"===p){var k=x(m/q);return s.formatDistance("xYears",k,u)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function U(n,e){return(0,A.Z)(1,arguments),L(n,Date.now(),e)}var Y=t(89840),H=t(32600),V=t(84513),K=t(83213),J=t(61113),X=t(45),$=t(55346),Q=t(46417);function nn(n){var e=n.conversation,t=n.openNav,r=n.isSelected,i=n.onSelect,a=en(e,"8864c717-587d-472a-929a-8e5f298024da-0"),o=e.messages[e.messages.length-1].createdAt,s=a.otherParticipants.length>1,l=e.unreadCount>0,c=s&&a.otherParticipants.map((function(n){return n.status})).includes("online");return(0,Q.jsxs)(Y.Z,{disableGutters:!0,onClick:i,sx:(0,v.Z)({py:1.5,px:2.5},r&&{bgcolor:"action.selected"}),children:[(0,Q.jsx)(H.Z,{children:s?(0,Q.jsx)(V.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:c&&(0,Q.jsx)($.Z,{status:"online"}),children:(0,Q.jsx)(X._,{compact:!0,sx:{width:48,height:48},children:a.otherParticipants.slice(0,2).map((function(n){return(0,Q.jsx)(X.z,{alt:n.name,src:n.avatar},n.id)}))})}):(0,Q.jsx)(X.z,{alt:a.otherParticipants[0].name,src:a.otherParticipants[0].avatar,BadgeProps:{badgeContent:(0,Q.jsx)($.Z,{status:a.otherParticipants[0].status})},sx:{width:48,height:48}},a.otherParticipants[0].id)}),t&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(K.Z,{primary:a.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:a.displayText,secondaryTypographyProps:{noWrap:!0,variant:l?"subtitle2":"body2",color:l?"text.primary":"text.secondary"}}),(0,Q.jsxs)(d.Z,{alignItems:"flex-end",sx:{ml:2,height:44},children:[(0,Q.jsx)(J.Z,{noWrap:!0,variant:"body2",component:"span",sx:{mb:1.5,fontSize:12,color:"text.disabled"},children:U(new Date(o),{addSuffix:!1})}),l&&(0,Q.jsx)($.Z,{status:"unread",size:"small"})]})]})]})}var en=function(n,e){var t=n.participants.filter((function(n){return n.id!==e})),r=t.map((function(n){return n.name})).join(", "),i="",a=n.messages[n.messages.length-1];if(a){var o=a.senderId===e?"You: ":"",s="image"===a.contentType?"Sent a photo":a.body;i="".concat(o).concat(s)}return{otherParticipants:t,displayNames:r,displayText:i}},tn=["conversations","openNav","onCloseNav","selected","sx"];function rn(n){var e=n.conversations,t=n.openNav,r=n.onCloseNav,i=n.selected,a=n.sx,o=(0,_.Z)(n,tn),l=(0,s.s0)(),c=(0,C.Z)("up","md"),d=!e.allIds.length;return(0,Q.jsx)(T.Z,(0,v.Z)((0,v.Z)({disablePadding:!0,sx:a},o),{},{children:(d?(0,P.Z)(Array(12)):e.allIds).map((function(n,a){return n?(0,Q.jsx)(nn,{openNav:t,conversation:e.byId[n],isSelected:i(n),onSelect:function(){c||r(),function(n){var t="",r=e.byId[n];if("GROUP"===r.type)t=r.id;else{var i=r.participants.find((function(n){return"8864c717-587d-472a-929a-8e5f298024da-0"!==n.id}));null!==i&&void 0!==i&&i.username&&(t=null===i||void 0===i?void 0:i.username)}l(h.vB.chat.view(t))}(n)}},n):(0,Q.jsx)(R.i4,{},a)}))}))}var an=t(31685),on=t(41727),sn=t(2943);function ln(n){var e=n.value,t=n.onChange,r=n.onClickAway;return(0,Q.jsx)(an.Z,{onClickAway:r,children:(0,Q.jsx)(sn.yM,{fullWidth:!0,size:"small",value:e,onChange:t,placeholder:"Search contacts...",InputProps:{startAdornment:(0,Q.jsx)(on.Z,{position:"start",children:(0,Q.jsx)(S.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{mt:2.5}})})}var cn=t(61689),dn=t(19536),un=t(51405),xn=t(88797),hn=t(74484),pn=t(90121),fn=["online","invisible","away"];function Zn(){var n=(0,hn.E)().user,e=(0,o.useState)("online"),t=(0,Z.Z)(e,2),r=t[0],i=t[1],a=(0,o.useState)(null),s=(0,Z.Z)(a,2),l=s[0],c=s[1];return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(X.z,{src:null===n||void 0===n?void 0:n.photoURL,alt:null===n||void 0===n?void 0:n.displayName,name:null===n||void 0===n?void 0:n.displayName,BadgeProps:{badgeContent:(0,Q.jsx)($.Z,{status:r})},onClick:function(n){c(n.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),(0,Q.jsxs)(pn.Z,{open:l,onClose:function(){c(null)},arrow:"top-left",sx:{p:0},children:[(0,Q.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)(J.Z,{noWrap:!0,variant:"subtitle2",children:null===n||void 0===n?void 0:n.displayName}),(0,Q.jsx)(J.Z,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:null===n||void 0===n?void 0:n.email})]}),(0,Q.jsx)(cn.Z,{title:"Log out",children:(0,Q.jsx)(b.Z,{color:"error",children:(0,Q.jsx)(S.Z,{icon:"ic:round-power-settings-new"})})})]}),(0,Q.jsx)(dn.Z,{}),(0,Q.jsxs)(T.Z,{sx:{px:1},children:[(0,Q.jsxs)(un.Z,{children:[(0,Q.jsx)($.Z,{size:"large",status:r,sx:{m:.5,flexShrink:0}}),(0,Q.jsx)(xn.Z,{native:!0,fullWidth:!0,value:r,onChange:function(n){return i(n.target.value)},sx:{"& .MuiInputBase-input":{p:0,pl:2,typography:"body2",textTransform:"capitalize"},"& .MuiNativeSelect-icon":{right:-16,top:"unset"},"& .MuiOutlinedInput-notchedOutline":{display:"none"}},children:fn.map((function(n){return(0,Q.jsx)("option",{value:n,children:n},n)}))})]}),(0,Q.jsxs)(un.Z,{children:[(0,Q.jsx)(S.Z,{icon:"ic:round-account-box"}),"Profile"]}),(0,Q.jsxs)(un.Z,{children:[(0,Q.jsx)(S.Z,{icon:"eva:settings-2-fill"}),"Settings"]})]})]})]})}var vn=t(63585),mn=t(89902);function gn(n){var e=n.searchContacts,t=n.searchResults,r=n.onSelectContact,i=!t.length&&!!e;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(J.Z,{paragraph:!0,variant:"h6",sx:{px:2.5},children:"Contacts"}),i?(0,Q.jsx)(mn.Z,{query:e,sx:{p:3,mx:"auto",width:"calc(100% - 40px)",bgcolor:"background.neutral"}}):(0,Q.jsx)(Q.Fragment,{children:t.map((function(n){return(0,Q.jsxs)(Y.Z,{onClick:function(){return r(n)},sx:{px:2.5,py:1.5,typography:"subtitle2"},children:[(0,Q.jsx)(vn.Z,{alt:n.name,src:n.avatar,sx:{mr:2}}),n.name]},n.id)}))})]})}var jn=(0,g.ZP)((function(n){return(0,Q.jsx)(b.Z,(0,v.Z)({disableRipple:!0},n))}))((function(n){var e=n.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:e.spacing(13),borderRadius:"0 12px 12px 0",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,boxShadow:e.customShadows.primary,"&:hover":{backgroundColor:e.palette.primary.darker}}}));function bn(n){var e=n.conversations,t=n.activeConversationId,r=(0,j.Z)(),l=(0,s.s0)(),c=(0,C.Z)("up","md"),u=(0,o.useState)(!1),x=(0,Z.Z)(u,2),p=x[0],f=x[1],g=(0,o.useState)([]),P=(0,Z.Z)(g,2),_=P[0],T=P[1],R=(0,o.useState)(""),z=(0,Z.Z)(R,2),M=z[0],D=z[1],W=c&&!p;(0,o.useEffect)((function(){c?O():N()}),[c]);var F=function(){f(!p)},O=function(){f(!0)},N=function(){f(!1)},A=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(e){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.target.value,D(t),!t){n.next=10;break}return n.next=6,k.Z.get("/api/chat/search",{params:{query:t}});case 6:r=n.sent,T(r.data.results),n.next=11;break;case 10:T([]);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}(),B=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(y.Z,{sx:{p:2.5},children:[(0,Q.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"center",children:[!W&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Zn,{}),(0,Q.jsx)(y.Z,{sx:{flexGrow:1}})]}),(0,Q.jsx)(b.Z,{onClick:F,children:(0,Q.jsx)(S.Z,{icon:p?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"})}),!W&&(0,Q.jsx)(b.Z,{component:m.rU,to:h.vB.chat.new,children:(0,Q.jsx)(S.Z,{icon:"eva:edit-fill"})})]}),!W&&(0,Q.jsx)(ln,{value:M,onChange:A,onClickAway:function(){return D("")}})]}),(0,Q.jsx)(I.Z,{children:M?(0,Q.jsx)(gn,{searchContacts:M,searchResults:_,onSelectContact:function(n){D(""),l(h.vB.chat.view(n.username))}}):(0,Q.jsx)(rn,{openNav:p,onCloseNav:N,conversations:e,selected:function(n){return t===n}})})]});return(0,Q.jsxs)(Q.Fragment,{children:[!c&&(0,Q.jsx)(jn,{onClick:F,children:(0,Q.jsx)(S.Z,{width:16,icon:"eva:people-fill"})}),c?(0,Q.jsx)(w.ZP,{open:p,variant:"persistent",PaperProps:{sx:(0,v.Z)({pb:1,width:1,position:"static"},W&&{transform:"none !important",visibility:"visible !important"})},sx:(0,v.Z)({width:320,transition:r.transitions.create("width")},W&&{width:96}),children:B}):(0,Q.jsx)(w.ZP,{open:p,onClose:N,ModalProps:{keepMounted:!0},PaperProps:{sx:{pb:1,width:320}},children:B})]})}var yn=t(28845),wn=t.n(yn),Cn=t(15122),kn=t.n(Cn),Sn=t(28776),In=t(9209),Pn=t(24193),_n=["isCollapse","onCollapse","children","sx"];function Tn(n){var e=n.isCollapse,t=n.onCollapse,r=n.children,i=n.sx,a=(0,_.Z)(n,_n);return(0,Q.jsx)(Pn.Z,(0,v.Z)((0,v.Z)({fullWidth:!0,color:"inherit",onClick:t,endIcon:(0,Q.jsx)(S.Z,{width:16,icon:e?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"}),sx:(0,v.Z)({height:40,flexShrink:0,borderRadius:0,typography:"overline",color:"text.disabled",justifyContent:"space-between",p:function(n){return n.spacing(1,1.5,1,2.5)}},i)},a),{},{children:r}))}function Rn(n){var e=n.conversation,t=n.isCollapse,r=n.onCollapse,i=wn()(kn()(e.messages.map((function(n){return n.attachments}))));return(0,Q.jsxs)(d.Z,{flexGrow:1,sx:{pb:2,height:1,overflow:"hidden",borderTop:function(n){return"solid 1px ".concat(n.palette.divider)}},children:[(0,Q.jsxs)(Tn,{isCollapse:t&&!!i.length,onCollapse:r,disabled:!i.length,sx:(0,v.Z)({},!t&&{borderBottom:function(n){return"solid 1px ".concat(n.palette.divider)}}),children:["Attachments (",i.length,")"]}),(0,Q.jsx)(y.Z,{sx:{overflow:"hidden",height:t?1:0,transition:function(n){return n.transitions.create("height",{duration:n.transitions.duration.shorter})}},children:(0,Q.jsx)(I.Z,{children:i.map((function(n,e){return(0,Q.jsx)(zn,{attachment:n},n.name+e)}))})})]})}function zn(n){var e=n.attachment;return(0,Q.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{mt:2,px:2.5},children:[(0,Q.jsx)(d.Z,{alignItems:"center",justifyContent:"center",sx:{width:40,height:40,flexShrink:0,borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.neutral"},children:(0,Q.jsx)(In.ZP,{imageView:!0,file:e.preview,onDownload:function(){return console.log("DOWNLOAD")},sx:{width:28,height:28}})}),(0,Q.jsxs)(d.Z,{flexGrow:1,sx:{ml:1.5,minWidth:0},children:[(0,Q.jsx)(J.Z,{variant:"body2",noWrap:!0,children:e.name}),(0,Q.jsx)(J.Z,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:(0,Sn.zM)(e.dateCreated)})]})]})}var Mn=t(65033);function Dn(n){var e=n.participant,t=n.isCollapse,r=n.onCollapse;return e?(0,Q.jsxs)("div",{children:[(0,Q.jsxs)(d.Z,{alignItems:"center",sx:{py:4},children:[(0,Q.jsx)(vn.Z,{alt:e.name,src:e.avatar,sx:{width:96,height:96,mb:2}}),(0,Q.jsx)(J.Z,{variant:"subtitle1",children:e.name}),(0,Q.jsx)(J.Z,{variant:"body2",sx:{color:"text.secondary",mt:.5},children:e.role})]}),(0,Q.jsx)(dn.Z,{}),(0,Q.jsx)(Tn,{isCollapse:t,onCollapse:r,children:"information"}),(0,Q.jsx)(Mn.Z,{in:t,children:(0,Q.jsx)(d.Z,{spacing:2,sx:{p:function(n){return n.spacing(2,2.5,2.5,2.5)}},children:[{icon:"eva:pin-fill",value:e.address},{icon:"eva:phone-fill",value:e.phone},{icon:"eva:email-fill",value:e.email}].map((function(n,e){return(0,Q.jsxs)(d.Z,{direction:"row",children:[(0,Q.jsx)(S.Z,{icon:n.icon,sx:{mr:1,mt:.5,flexShrink:0,color:"text.disabled"}}),(0,Q.jsx)(J.Z,{variant:"body2",noWrap:2===e,children:n.value})]},n.icon)}))})})]}):null}var Wn=t(94469),Fn=t(96467);function On(n){var e=n.participant,t=n.open,r=n.onClose,i=e.name,a=e.avatar,o=e.role,s=e.address;return(0,Q.jsxs)(Wn.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:r,children:[(0,Q.jsx)(b.Z,{onClick:r,sx:{position:"absolute",right:8,top:8},children:(0,Q.jsx)(S.Z,{icon:"eva:close-fill"})}),(0,Q.jsx)(Fn.Z,{sx:{p:5},children:(0,Q.jsxs)(d.Z,{direction:"row",spacing:3,children:[(0,Q.jsx)(X.z,{alt:i,src:a,name:i,sx:{width:96,height:96}}),(0,Q.jsxs)(d.Z,{spacing:1,children:[(0,Q.jsx)(J.Z,{variant:"caption",sx:{color:"primary.main"},children:o}),(0,Q.jsx)(J.Z,{variant:"h6",children:i}),(0,Q.jsxs)(d.Z,{direction:"row",sx:{typography:"caption",color:"text.secondary"},children:[(0,Q.jsx)(S.Z,{icon:"eva:pin-fill",width:16,sx:{flexShrink:0,mr:.5}}),s]}),(0,Q.jsxs)(d.Z,{direction:"row",sx:{pt:1},children:[(0,Q.jsx)(b.Z,{color:"info",children:(0,Q.jsx)(S.Z,{icon:"eva:message-square-fill"})}),(0,Q.jsx)(b.Z,{color:"warning",children:(0,Q.jsx)(S.Z,{icon:"eva:email-fill"})}),(0,Q.jsx)(b.Z,{color:"success",children:(0,Q.jsx)(S.Z,{icon:"eva:phone-fill"})}),(0,Q.jsx)(b.Z,{color:"error",children:(0,Q.jsx)(S.Z,{icon:"eva:video-fill"})})]})]})]})})]})}function Nn(n){var e=n.participants,t=n.selectUserId,r=n.onOpenUserInfo,i=n.isCollapse,a=n.onCollapse;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(Tn,{isCollapse:i,onCollapse:a,children:["In room (",e.length,")"]}),(0,Q.jsx)(y.Z,{sx:{height:i?240:0,transition:function(n){return n.transitions.create("height",{duration:n.transitions.duration.shorter})}},children:(0,Q.jsx)(I.Z,{children:e.map((function(n){return(0,Q.jsx)(An,{participant:n,open:t===n.id,onOpen:function(){return r(n.id)},onClose:function(){return r(null)}},n.id)}))})})]})}function An(n){var e=n.participant,t=n.open,r=n.onClose,i=n.onOpen,a=e.name,o=e.avatar,s=e.status,l=e.role;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(Y.Z,{onClick:i,sx:{height:60,px:2.5},children:[(0,Q.jsx)(H.Z,{children:(0,Q.jsx)(X.z,{alt:a,src:o,BadgeProps:{badgeContent:(0,Q.jsx)($.Z,{status:s})}})}),(0,Q.jsx)(K.Z,{primary:a,secondary:l,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondaryTypographyProps:{noWrap:!0}})]}),(0,Q.jsx)(On,{participant:e,open:t,onClose:r})]})}var Bn=(0,g.ZP)((function(n){return(0,Q.jsx)(b.Z,(0,v.Z)({disableRipple:!0},n))}))((function(n){var e=n.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:e.spacing(1),boxShadow:e.customShadows.z8,backgroundColor:e.palette.background.paper,border:"solid 1px ".concat(e.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:e.transitions.create("all"),"&:hover":{backgroundColor:e.palette.background.neutral}}}));function En(n){var e=n.conversation,t=n.participants,r=(0,j.Z)(),i=(0,C.Z)("up","lg"),a=(0,o.useState)(!0),s=(0,Z.Z)(a,2),l=s[0],c=s[1],d=(0,o.useState)(!0),u=(0,Z.Z)(d,2),x=u[0],h=u[1],p=(0,o.useState)(!0),f=(0,Z.Z)(p,2),m=f[0],g=f[1],b=(0,o.useState)(!0),k=(0,Z.Z)(b,2),I=k[0],P=k[1],_=(0,o.useState)(null),T=(0,Z.Z)(_,2),R=T[0],z=T[1],M=function(){c(!1)},D=t.length>1;(0,o.useEffect)((function(){i?c(!0):M()}),[i]);var W=(0,Q.jsxs)(Q.Fragment,{children:[D?(0,Q.jsx)(Nn,{selectUserId:R,participants:t,isCollapse:I,onCollapse:function(){return P(!I)},onOpenUserInfo:function(n){return z(n)}}):(0,Q.jsx)(Dn,{participant:t[0],isCollapse:x,onCollapse:function(){return h(!x)}}),(0,Q.jsx)(Rn,{conversation:e,isCollapse:m,onCollapse:function(){return g(!m)}})]});return(0,Q.jsxs)(y.Z,{sx:{position:"relative"},children:[(0,Q.jsx)(Bn,{onClick:function(){return c(!l)},sx:(0,v.Z)({},l&&i&&{right:240}),children:(0,Q.jsx)(S.Z,{width:16,icon:l?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),i?(0,Q.jsx)(w.ZP,{open:l,anchor:"right",variant:"persistent",PaperProps:{sx:{width:1,position:"static"}},sx:(0,v.Z)({height:1,width:240,transition:r.transitions.create("width")},!l&&{width:0}),children:W}):(0,Q.jsx)(w.ZP,{anchor:"right",open:l,onClose:M,ModalProps:{keepMounted:!0},PaperProps:{sx:{width:240}},children:W})]})}var Gn=t(54882),qn=t(90419),Ln=["disabled","conversationId","onSend","sx"];function Un(n){var e=n.disabled,t=n.conversationId,r=n.onSend,i=n.sx,a=(0,_.Z)(n,Ln),s=(0,o.useRef)(null),l=(0,o.useState)(""),c=(0,Z.Z)(l,2),u=c[0],x=c[1],h=function(){var n;null===(n=s.current)||void 0===n||n.click()};return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(Gn.ZP,(0,v.Z)({value:u,onKeyUp:function(n){"Enter"===n.key&&(r&&u&&t&&r({conversationId:t,messageId:(0,qn.Z)(),message:u,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),x(""))},onChange:function(n){return x(n.target.value)},placeholder:"Type a message",startAdornment:(0,Q.jsx)(on.Z,{position:"start",children:(0,Q.jsx)(b.Z,{size:"small",children:(0,Q.jsx)(S.Z,{icon:"eva:smiling-face-fill"})})}),endAdornment:(0,Q.jsxs)(d.Z,{direction:"row",spacing:1,sx:{flexShrink:0,mr:1.5},children:[(0,Q.jsx)(b.Z,{disabled:e,size:"small",onClick:h,children:(0,Q.jsx)(S.Z,{icon:"ic:round-add-photo-alternate"})}),(0,Q.jsx)(b.Z,{disabled:e,size:"small",onClick:h,children:(0,Q.jsx)(S.Z,{icon:"eva:attach-2-fill"})}),(0,Q.jsx)(b.Z,{disabled:e,size:"small",children:(0,Q.jsx)(S.Z,{icon:"eva:mic-fill"})})]}),sx:(0,v.Z)({pl:1,height:56,flexShrink:0,borderTop:function(n){return"solid 1px ".concat(n.palette.divider)}},i)},a)),(0,Q.jsx)("input",{type:"file",ref:s,style:{display:"none"}})]})}var Yn=t(98260),Hn=t(9651);function Vn(n){var e=n.message,t=n.conversation,r=n.onOpenLightbox,i=t.participants.find((function(n){return n.id===e.senderId})),a="8864c717-587d-472a-929a-8e5f298024da-0"===e.senderId?{type:"me"}:{avatar:null===i||void 0===i?void 0:i.avatar,name:null===i||void 0===i?void 0:i.name},o="me"===a.type,s="image"===e.contentType,l=a.name&&a.name.split(" ")[0];return(0,Q.jsxs)(d.Z,{direction:"row",justifyContent:o?"flex-end":"unset",sx:{mb:3},children:[!o&&(0,Q.jsx)(vn.Z,{alt:a.name,src:a.avatar,sx:{width:32,height:32,mr:2}}),(0,Q.jsxs)(d.Z,{spacing:1,alignItems:"flex-end",children:[(0,Q.jsxs)(J.Z,{noWrap:!0,variant:"caption",sx:(0,v.Z)({color:"text.disabled"},!o&&{mr:"auto"}),children:[!o&&"".concat(l,",")," \xa0",U(new Date(e.createdAt),{addSuffix:!0})]}),(0,Q.jsx)(d.Z,{sx:(0,v.Z)((0,v.Z)({p:1.5,minWidth:48,maxWidth:320,borderRadius:1,overflow:"hidden",typography:"body2",bgcolor:"background.neutral"},o&&{color:"grey.800",bgcolor:"primary.lighter"}),s&&{p:0}),children:s?(0,Q.jsx)(Hn.Z,{alt:"attachment",src:e.body,onClick:function(){return r(e.body)},sx:{cursor:"pointer","&:hover":{opacity:.9}}}):e.body})]})]})}function Kn(n){var e=n.conversation,t=(0,o.useRef)(null),r=(0,o.useState)(-1),i=(0,Z.Z)(r,2),a=i[0],s=i[1];(0,o.useEffect)((function(){t.current&&(t.current.scrollTop=t.current.scrollHeight)}),[e.messages]);var l=e.messages.filter((function(n){return"image"===n.contentType})).map((function(n){return{src:n.body}}));return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(I.Z,{scrollableNodeProps:{ref:t},sx:{p:3,height:1},children:e.messages.map((function(n){return(0,Q.jsx)(Vn,{message:n,conversation:e,onOpenLightbox:function(){return function(n){var e=l.findIndex((function(e){return e.src===n}));s(e)}(n.body)}},n.id)}))}),(0,Q.jsx)(Yn.Z,{index:a,slides:l,open:a>=0,close:function(){s(-1)}})]})}var Jn=t(90891);function Xn(n){var e=n.participants,t=e.length>1,r=e.length?e[0]:null;return(0,Q.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{p:function(n){return n.spacing(2,1,2,2)}},children:[t?(0,Q.jsxs)(d.Z,{flexGrow:1,children:[(0,Q.jsx)(X._,{max:3,children:e.map((function(n){return(0,Q.jsx)(X.z,{alt:n.name,src:n.avatar},n.id)}))}),(0,Q.jsxs)(Jn.Z,{variant:"body2",sx:{mt:.5,alignItems:"center",display:"inline-flex",color:"text.secondary"},children:[e.length," persons",(0,Q.jsx)(S.Z,{icon:"eva:arrow-ios-forward-fill",width:16})]})]}):(0,Q.jsxs)(d.Z,{flexGrow:1,direction:"row",alignItems:"center",spacing:2,children:[(0,Q.jsx)(X.z,{src:null===r||void 0===r?void 0:r.avatar,alt:null===r||void 0===r?void 0:r.name,BadgeProps:{badgeContent:(0,Q.jsx)($.Z,{status:null===r||void 0===r?void 0:r.status})}}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(J.Z,{variant:"subtitle2",children:null===r||void 0===r?void 0:r.name}),(0,Q.jsx)(J.Z,{variant:"body2",sx:{color:"text.secondary"},children:"offline"===(null===r||void 0===r?void 0:r.status)?(null===r||void 0===r?void 0:r.lastActivity)&&(0,Sn.DY)(null===r||void 0===r?void 0:r.lastActivity):(0,Q.jsx)(y.Z,{component:"span",sx:{textTransform:"capitalize"},children:null===r||void 0===r?void 0:r.status})})]})]}),(0,Q.jsx)(b.Z,{children:(0,Q.jsx)(S.Z,{icon:"eva:phone-fill"})}),(0,Q.jsx)(b.Z,{children:(0,Q.jsx)(S.Z,{icon:"eva:video-fill"})}),(0,Q.jsx)(b.Z,{children:(0,Q.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})]})}var $n=t(83870),Qn=t.n($n),ne=t(46642),ee=t.n(ne),te=t(17551),re=t(19065),ie=t(24631),ae=t(66212),oe=["contacts","recipients","onAddRecipients","sx"];function se(n){var e=n.contacts,t=n.recipients,r=n.onAddRecipients,i=n.sx,a=(0,_.Z)(n,oe),s=(0,o.useState)(""),l=(0,Z.Z)(s,2),c=l[0],u=l[1];return(0,Q.jsxs)(d.Z,(0,v.Z)((0,v.Z)({spacing:1,direction:"row",alignItems:"center",sx:(0,v.Z)({py:2,px:2.5},i)},a),{},{children:[(0,Q.jsx)(J.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),(0,Q.jsx)(re.Z,{sx:{minWidth:240},multiple:!0,popupIcon:null,noOptionsText:(0,Q.jsx)(mn.Z,{query:c}),onChange:function(n,e){return t=e,u(""),void r(t);var t},onInputChange:function(n,e){return u(e)},options:e,getOptionLabel:function(n){return n.name},renderInput:function(n){return(0,Q.jsx)(ie.Z,(0,v.Z)((0,v.Z)({},n),{},{size:"small",placeholder:t.length?"+Recipients":""}))},renderOption:function(n,e,t){var r=t.inputValue,i=t.selected,a=e.name,o=e.avatar,s=ee()(a,r),l=Qn()(a,s);return(0,Q.jsxs)(y.Z,(0,v.Z)((0,v.Z)({component:"li",sx:{p:"12px !important"}},n),{},{children:[(0,Q.jsxs)(y.Z,{sx:{mr:1.5,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,Q.jsx)(vn.Z,{alt:a,src:o}),(0,Q.jsx)(y.Z,{sx:(0,v.Z)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(n){return(0,te.Fq)(n.palette.grey[900],.8)},transition:function(n){return n.transitions.create("opacity",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter})}},i&&{opacity:1,color:"primary.main"}),children:(0,Q.jsx)(S.Z,{icon:"eva:checkmark-fill"})})]}),l.map((function(n,e){return(0,Q.jsx)(J.Z,{variant:"subtitle2",color:n.highlight?"primary":"textPrimary",children:n.text},e)}))]}))},renderTags:function(n,e){return n.map((function(n,t){return(0,o.createElement)(ae.Z,(0,v.Z)((0,v.Z)({},e({index:t})),{},{key:n.id,size:"small",label:n.name,avatar:(0,Q.jsx)(vn.Z,{alt:n.name,src:n.avatar})}))}))}})]}))}function le(){var n=(0,p.K$)().themeStretch,e=(0,u.I0)(),t=(0,s.s0)(),r=(0,s.TH)().pathname,Z=(0,s.UO)().conversationKey,v=void 0===Z?"":Z,m=(0,u.v9)((function(n){return n.chat})),g=m.contacts,j=m.recipients,b=m.participants,y=m.activeConversationId,w=m.conversations,C=(0,u.v9)((function(){return y?w.byId[y]:{id:"",messages:[],participants:[],unreadCount:0,type:""}})),k=!!v,S=b.filter((function(n){return"8864c717-587d-472a-929a-8e5f298024da-0"!==n.id}));(0,o.useEffect)((function(){e((0,x.uv)()),e((0,x.K2)())}),[e]),(0,o.useEffect)((function(){var n=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,x.aS)("".concat(v))),n.prev=1,n.next=4,e((0,x.cc)("".concat(v)));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),t(h.vB.chat.new);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();v?n():y&&e((0,x.PY)())}),[v]),(0,o.useEffect)((function(){y&&e((0,x.R7)(y))}),[e,y]);var I=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e((0,x.bG)(t))}catch(r){console.error(r)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,Q.jsxs)(l.Z,{maxWidth:!n&&"xl",children:[(0,Q.jsx)(f.Z,{heading:"Chat",links:[{name:"Dashboard",href:h.vB.root},{name:"Chat"}]}),(0,Q.jsxs)(c.Z,{sx:{height:"72vh",display:"flex"},children:[(0,Q.jsx)(bn,{conversations:w,activeConversationId:y}),(0,Q.jsxs)(d.Z,{flexGrow:1,sx:{overflow:"hidden"},children:[k?(0,Q.jsx)(Xn,{participants:S}):(0,Q.jsx)(se,{recipients:j,contacts:Object.values(g.byId),onAddRecipients:function(n){e((0,x.sS)(n))}}),(0,Q.jsxs)(d.Z,{direction:"row",flexGrow:1,sx:{overflow:"hidden",borderTop:function(n){return"solid 1px ".concat(n.palette.divider)}},children:[(0,Q.jsxs)(d.Z,{flexGrow:1,sx:{minWidth:0},children:[(0,Q.jsx)(Kn,{conversation:C}),(0,Q.jsx)(Un,{conversationId:y,onSend:I,disabled:r===h.vB.chat.root||r===h.vB.chat.new})]}),k&&(0,Q.jsx)(En,{conversation:C,participants:S})]})]})]})]})}function ce(){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(r.ql,{children:(0,Q.jsx)("title",{children:" Chat | Minimal UI"})}),(0,Q.jsx)(le,{})]})}},28776:function(n,e,t){t.d(e,{DY:function(){return c},IO:function(){return l},Mu:function(){return o},zM:function(){return s}});var r=t(89600),i=t(42026),a=t(98495);function o(n,e){var t=e||"dd MMM yyyy";return n?(0,r.Z)(new Date(n),t):""}function s(n,e){var t=e||"dd MMM yyyy p";return n?(0,r.Z)(new Date(n),t):""}function l(n){return n?(0,i.Z)(new Date(n)):""}function c(n){return n?(0,a.Z)(new Date(n),{addSuffix:!0}):""}},90419:function(n,e,t){function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=16*Math.random()|0;return("x"===n?e:3&e|8).toString(16)}))}t.d(e,{Z:function(){return r}})},96467:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(4942),i=t(63366),a=t(87462),o=t(47313),s=t(83061),l=t(21921),c=t(17592),d=t(77342),u=t(77430),x=t(32298);function h(n){return(0,x.Z)("MuiDialogContent",n)}(0,u.Z)("MuiDialogContent",["root","dividers"]);var p=t(93174),f=t(46417),Z=["className","dividers"],v=(0,c.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,t.dividers&&e.dividers]}})((function(n){var e=n.theme,t=n.ownerState;return(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((e.vars||e).palette.divider),borderBottom:"1px solid ".concat((e.vars||e).palette.divider)}:(0,r.Z)({},".".concat(p.Z.root," + &"),{paddingTop:0}))})),m=o.forwardRef((function(n,e){var t=(0,d.Z)({props:n,name:"MuiDialogContent"}),r=t.className,o=t.dividers,c=void 0!==o&&o,u=(0,i.Z)(t,Z),x=(0,a.Z)({},t,{dividers:c}),p=function(n){var e=n.classes,t={root:["root",n.dividers&&"dividers"]};return(0,l.Z)(t,h,e)}(x);return(0,f.jsx)(v,(0,a.Z)({className:(0,s.Z)(p.root,r),ownerState:x,ref:e},u))}))},93174:function(n,e,t){t.d(e,{a:function(){return a}});var r=t(77430),i=t(32298);function a(n){return(0,i.Z)("MuiDialogTitle",n)}var o=(0,r.Z)("MuiDialogTitle",["root"]);e.Z=o}}]);